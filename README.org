#+TITLE: ox-pandoc
* ox-pandoc

This is another exporter for Org 8 that translates org-mode file to
various other formats via Pandoc (version 1.12.4 or later is needed).

This file is inspired by [[https://github.com/robtillotson/org-pandoc][org-pandoc]], but entirely re-written.

* Usage

Exporters for following formats are available.

| format            | extension | buffer | file |
|-------------------+-----------+--------+------|
| asciidoc          | txt       | t      | t    |
| beamer            | tex       | t      | t    |
| beamer-pdf        | pdf       | nil    | t    |
| context           | tex       | t      | t    |
| docbook           | xml       | t      | t    |
| docx              |           | nil    | t    |
| dzslides          | html      | t      | t    |
| epub              |           | nil    | t    |
| epub3             | epub      | nil    | t    |
| fb2               | fb2       | t      | t    |
| html              |           | t      | t    |
| html5             | html      | t      | t    |
| icml              |           | t      | t    |
| json              |           | t      | t    |
| latex             | tex       | t      | t    |
| latex-pdf         | pdf       | nil    | t    |
| man               |           | t      | t    |
| markdown          | md        | t      | t    |
| markdown_github   | md        | t      | t    |
| markdown_mmd      | md        | t      | t    |
| markdown_phpextra | md        | t      | t    |
| markdown_strict   | md        | t      | t    |
| mediawiki         |           | t      | t    |
| native            | hs        | t      | t    |
| odt               |           | nil    | t    |
| opendocument      | xml       | t      | t    |
| opml              |           | t      | t    |
| org               |           | t      | t    |
| plain             | txt       | t      | t    |
| revealjs          | html      | t      | t    |
| rst               |           | t      | t    |
| rtf               |           | t      | t    |
| s5                | html      | t      | t    |
| slideous          | html      | t      | t    |
| slidy             | html      | t      | t    |
| texinfo           |           | t      | t    |
| textile           |           | t      | t    |

For example, for 'html5' format, following exporters are prepared.

- =org-pandoc-export-as-html5= :: Exports the HTML text to a buffer.
- =org-pandoc-export-to-html5= :: Exports the HTML text to a file.
- =org-pandoc-export-to-html5-and-open= :: Export and open HTML file.

* Customizations

** Option Variables

- =org-pandoc-options= :: General Pandoc options.
- =org-pandoc-options-for-FORMAT= :: Format-specific options.

Options should be specified by an alist. List of valid options are
defined in 'org-pandoc-valid-options'. Note that shortened form can
not be used.

Document-specific options can be set to "#+PANDOC_OPTIONS:" in the
document. Latter options will override former options. Value 'nil'
overrides preceding option setting. Value 't' means only specify
option, but not its value.

Following is an example.

: ;; default options for all output formats
: (setq org-pandoc-options '((standalone . t)))
: ;; cancel above settings only for 'docx' format
: (setq org-pandoc-options-for-docx '((standalone . nil)))
: ;; special settings for beamer-pdf and latex-pdf exporters
: (setq org-pandoc-options-for-beamer-pdf '((latex-engine . "xelatex")))
: (setq org-pandoc-options-for-latex-pdf '((latex-engine . "xelatex")))

Each document can set its own customization variable.

: # following will only apply to specific document.
: #+PANDOC_OPTIONS: standalone:t latex-engine:xelatex

In PANDOC_OPTIONS specification, options are delimited by space. If an
option value includes space character, then you can surround /entire/
setting with quote. e.g.

: #+PANDOC_OPTIONS: "epub-cover-image:/home/a/test file.png" standalone:nil

** Other Variables

- =org-pandoc-after-processing-FORMAT-hook= :: Hook after processing
     FORMAT. This hook is only available to text-file FORMAT.

- =org-pandoc-epub-right= :: EPUB Copyright Statement.

** In-File Options

Followings are in-flie options. For EPUB outputs, various in-file
options can be used.

- =PANDOC_OPTIONS:= :: Add command line options to the Pandoc process.
- =EPUB_RIGHTS:= :: copyright info to be embedded to EPUB metadata.
- =EPUB_CHAPTER_LEVEL:= :: same as 'epub-chapter-level' pandoc-option.
- =EPUB_COVER:= :: same as 'epub-cover-image' pandoc-option.
- =EPUB_EMBED_FONT:= :: same as 'epub-embed-font' pandoc-option.
- =EPUB_METADATA:= :: same as 'epub-metadata' pandoc-option.
- =EPUB_STYLESHEET:= :: same as 'epub-stylesheet' pandoc-option.
- =BIBLIOGRAPHY:= :: same as 'bibliography' pandoc-option.

** Citation

Currently, Pandoc citation key is expressed as /@key/, rather than
/{\cite key}/ . You may need some text converter if you want to use
Pandoc citation styles in org document.

* Note

This file creates and removes "XXXX.tmpZZZZ.org" temprary file in
working directory. (ZZZZ is random string.)
